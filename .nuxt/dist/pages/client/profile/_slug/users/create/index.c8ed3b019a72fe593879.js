webpackJsonp([21],{"/3gN":function(e,t,r){"use strict";var l=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"client-user-create"},[r("v-container",{staticClass:"pt-0",attrs:{"grid-list-lg":""}},[r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{xs12:"","pt-0":""}},[r("v-btn",{staticClass:"ml-0",attrs:{outline:""},on:{click:function(t){e.onGoback()}}},[r("v-icon",[e._v("chevron_left")]),e._v("\n                    Go back\n                ")],1)],1),r("v-flex",{attrs:{xs12:""}},[r("h2",{staticClass:"text-center text-uppercase"},[e._v("New User")])]),r("v-flex",{attrs:{xs12:""}},[r("v-form",{ref:"form",attrs:{id:"user-create-form"},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{xs12:""}},[r("v-text-field",{attrs:{label:"Full Name:",name:"full_name",color:"dark",rules:[function(e){return!!e||"Field is required"}],required:""},model:{value:e.user.full_name,callback:function(t){e.$set(e.user,"full_name",t)},expression:"user.full_name"}})],1)],1),r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{xs12:""}},[r("v-text-field",{attrs:{label:"Job Title",name:"job_title",type:"text",color:"dark",rules:[function(e){return!!e||"Field is required"}],required:""},model:{value:e.user.job_title,callback:function(t){e.$set(e.user,"job_title",t)},expression:"user.job_title"}})],1),r("v-flex",{attrs:{xs12:""}},[r("v-text-field",{attrs:{label:"Email Address",name:"email",type:"text",color:"dark",rules:[function(e){return!!e||"Field is required"}],required:""},model:{value:e.user.email,callback:function(t){e.$set(e.user,"email",t)},expression:"user.email"}}),e.error&&e.errors.email?r("small",{staticClass:"red--text"},[e._v(e._s(e.errors.email[0]))]):e._e()],1),r("v-flex",{attrs:{xs12:""}},[r("v-text-field",{attrs:{label:"Phone Number",name:"tel",type:"text",color:"dark",rules:[function(e){return!!e||"Field is required"}],required:""},model:{value:e.user.tel,callback:function(t){e.$set(e.user,"tel",t)},expression:"user.tel"}})],1),r("v-flex",{attrs:{xs12:""}},[r("v-select",{attrs:{items:e.clientRoles,label:"Client role",name:"role",rules:[function(e){return!!e||"Field is required"}],color:"dark","item-text":"name","item-value":"id",return:"",object:"",required:""},model:{value:e.user.role,callback:function(t){e.$set(e.user,"role",t)},expression:"user.role"}})],1)],1),r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{xsl2:"","text-xs-right":"","pa-0":""}},[r("v-btn",{attrs:{dark:""},on:{click:function(t){e.onSubmit()}}},[e._v("Create User\n                            ")])],1)],1)],1)],1)],1)],1)],1)};l._withStripped=!0;var s={render:l,staticRenderFns:[]};t.a=s},K1PJ:function(e,t,r){"use strict";t.a={data:function(){return{error:!1,errors:null,valid:!1,user:{full_name:null,job_title:null,email:null,tel:null,role:null},emailRules:[function(e){return!!e||"Email is required"},function(e){return/^\w+([.-]?\w+)*@\w+([.-]?\w+)*(\.\w{2,3})+$/.test(e)||"E-mail must be valid"}],emailError:"",clientRoles:[{id:"client",name:"Client"},{id:"client_admin",name:"Client Admin"}]}},created:function(){},methods:{onGoback:function(){""!=this.$store.getters.getRouteUrl?this.$router.push({name:this.$store.getters.getRouteUrl}):this.$router.go(-1)},onSubmit:function(){var e=this;if(this.errors=null,this.error=!1,this.$refs.form.validate()){var t=this.$route.params.slug,r=new FormData;r.append("full_name",this.user.full_name),r.append("job_title",this.user.job_title),r.append("email",this.user.email),r.append("tel",this.user.tel),r.append("role",this.user.role),this.$axios.$post("/client/profile/"+t+"/users",r).then(function(t){if(t.success){var r={message:"User has been successfully created.",duration:3e3,color:"success",horizontalAlign:"right"};e.$store.commit("setToast",r),setTimeout(function(){e.$router.push({name:"client_profile"})},r.duration)}}).catch(function(t){e.errors=t.response.errors,e.error=!0})}}}}},ZCof:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=r("K1PJ"),s=r("/3gN"),i=r("VU/8")(l.a,s.a,!1,null,null,null);i.options.__file="resources/nuxt/pages/client/profile/_slug/users/create/index.vue",t.default=i.exports}});