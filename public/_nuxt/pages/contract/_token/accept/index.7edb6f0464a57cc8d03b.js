webpackJsonp([15],{"30uM":function(t,e,s){var a=s("QdLY");"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);s("rjj0")("719bb824",a,!1,{sourceMap:!1})},KNjW:function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-container",{staticClass:"section-space",attrs:{"grid-list-lg":"","fill-height":""}},[t.display_thank_you?s("v-layout",{attrs:{"align-center":"","justify-center":""}},[t.signed?s("div",{staticClass:"headline text-xs-center"},[t._v("\n            Thank you for signing the contract. We have sent you an email confirmation which includes a link to download the contract that you just accepted.\n        ")]):s("v-form",{ref:"contract_accept_form",on:{submit:function(e){e.preventDefault(),t.onContractAcceptSubmit()}}},[s("v-card",[s("v-card-text",[s("v-flex",{attrs:{xs12:"","align-center":""}},[s("h2",{staticClass:"text-xs-center"},[t._v("LICENSE AND RELEASE")])]),s("v-flex",{attrs:{xs12:""}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.token,expression:"token"}],attrs:{type:"hidden",name:"token",id:"token"},domProps:{value:t.token},on:{input:function(e){e.target.composing||(t.token=e.target.value)}}}),s("div",{staticStyle:{width:"100%"},attrs:{name:"contract",title:"contract",rows:"14",disabled:"disabled"},domProps:{innerHTML:t._s(t.contract)}})]),s("v-flex",{staticClass:"text-center",attrs:{xs12:""}},[s("v-btn",{attrs:{raised:"",dark:"",loading:t.loading,disabled:t.loading||t.buttonDisable},on:{click:function(e){t.onContractAcceptSubmit()}}},[t._v("ACCEPT CONTRACT\n                        ")])],1),s("v-flex",{attrs:{xs12:"","text-xs-center":""}},[t.showMessage?s("span",{class:[t.error?"red--text":"green--text"]},[t._v(t._s(t.message))]):t._e()])],1)],1)],1)],1):s("v-layout",{attrs:{"align-center":"","justify-center":""}},[s("v-card",{attrs:{width:"800"}},[s("v-card-text",[s("v-flex",{attrs:{xs12:"","text-xs-center":""}},[t.showMessage?s("span",{class:[t.error?"red--text":"green--text","text-uppercase"]},[t._v(t._s(t.message))]):t._e()])],1)],1)],1)],1)};a._withStripped=!0;var n={render:a,staticRenderFns:[]};e.a=n},OtJB:function(t,e,s){"use strict";e.a={data:function(){return{token:"",counter:30,loading:!1,loader:null,buttonDisable:!1,showMessage:!1,message:"",contract:null,signed:!0,display_thank_you:!1,error:!1}},created:function(){var t=this;this.token=this.$route.params.token,this.$axios.setHeader("X-Requested-With","XMLHttpRequest"),this.$axios.$get("/contract/"+this.token+"/accept").then(function(e){e.error?(t.error=!0,t.showMessage=!0,t.message=e.error_message):(t.contract=e.contract,t.video=e.video,t.signed=e.signed,t.display_thank_you=!0)})},methods:{onContractAcceptSubmit:function(){var t=this,e=new FormData;e.append("token",this.token);var s="/contract/"+this.token+"/sign";this.$axios.$post(s,e).then(function(e){t.showMessage=!0,t.buttonDisable=!0,e.error?(t.error=!0,t.message=e.error_message):(t.message=e.success_message,t.signed=e.signed,t.display_thank_you=!0)}).catch(function(e){t.showMessage=!0,t.buttonDisable=!0,t.error=!0,t.display_thank_you=!0,t.message="Something went wrong. Please refresh this page again."})}}}},QdLY:function(t,e,s){(t.exports=s("FZ+f")(!1)).push([t.i,"body::-webkit-scrollbar{width:1em}body::-webkit-scrollbar-track{-webkit-box-shadow:inset 0 0 6px rgba(0,0,0,.3)}body::-webkit-scrollbar-thumb{background-color:#a9a9a9;outline:1px solid #708090}",""])},ZDUL:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("OtJB"),n=s("KNjW"),r=!1;var o=function(t){r||s("30uM")},i=s("VU/8")(a.a,n.a,!1,o,null,null);i.options.__file="resources/nuxt/pages/contract/_token/accept/index.vue",e.default=i.exports}});