webpackJsonp([14],{"7qpE":function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r("cYwQ"),o=r("uWUG"),s=r("VU/8")(i.a,o.a,!1,null,null,null);s.options.__file="resources/nuxt/pages/login/index.vue",e.default=s.exports},cYwQ:function(t,e,r){"use strict";var i=r("n/pJ");e.a={components:{loginForm:i.a},data:function(){return{}},watch:{},created:function(){},methods:{}}},"n/pJ":function(t,e,r){"use strict";var i=r("rfmT"),o=r("phVm"),s=r("VU/8")(i.a,o.a,!1,null,null,null);s.options.__file="resources/nuxt/components/forms/LoginFormComponent.vue",e.a=s.exports},phVm:function(t,e,r){"use strict";var i=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"login"},[r("v-card",{attrs:{raised:""}},[r("v-card-text",{staticClass:"login-section pa-0"},[r("v-form",{ref:"login_form",attrs:{method:"post"},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[r("v-container",{attrs:{"grid-list-lg":""}},[r("v-layout",{attrs:{row:"",wrap:"",id:"login-section"}},[r("v-flex",{attrs:{xs12:""}},[r("h2",{staticClass:"login-title"},[t._v("LOGIN")])]),r("v-flex",{attrs:{xs12:""}},[r("v-text-field",{attrs:{label:"Email:",name:"email",type:"email",color:"dark",rules:t.emailRules,"validate-on-blur":"",error:t.validation.error,required:""},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}})],1),r("v-flex",{attrs:{xs12:""}},[r("v-text-field",{staticClass:"email",attrs:{color:"dark",name:"password",label:"Enter your password","append-icon":t.showpassword?"visibility":"visibility_off",type:t.showpassword?"password":"text",rules:t.passwordRules,error:t.validation.error,required:""},on:{"click:append":function(e){t.showpassword=!t.showpassword},keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;t.onSubmit()}},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1)],1),t.validation.error?r("v-layout",{attrs:{row:"","justify-center":""}},[r("v-flex",[r("div",{staticClass:"red--text text-xs-center"},[t._v(t._s(t.validation.message))])])],1):t._e(),r("v-layout",{staticClass:"text-xs-center",attrs:{row:"",wrap:"",fluid:""}},[r("v-flex",{attrs:{xs12:""}},[r("input",{attrs:{type:"hidden",name:"_token"}}),r("v-btn",{attrs:{raised:"",dark:"",loading:t.loading,disabled:t.loading},on:{click:function(e){t.onSubmit()}}},[t._v("\n                                LOGIN\n                            ")])],1),r("v-flex",{attrs:{xs12:"","pt-0":""}},[r("a",{staticClass:"forgot-password",attrs:{id:"btn-forgot-password"},on:{click:function(e){e.stopPropagation(),t.onForgotforgotDialog()}}},[t._v("Forgot password")])])],1)],1)],1)],1)],1),r("v-dialog",{staticStyle:{background:"none","box-shadow":"none"},attrs:{"max-width":"200",persistent:"",flat:"","content-class":"login-delay-dialogs"},model:{value:t.loginDelay,callback:function(e){t.loginDelay=e},expression:"loginDelay"}},[r("div",{staticClass:"loading-delay-box text-xs-center"},[r("v-progress-circular",{attrs:{size:50,width:5,color:"white",indeterminate:""}}),r("p",{staticClass:"white--text"},[t._v("Loading...")])],1)])],1)};i._withStripped=!0;var o={render:i,staticRenderFns:[]};e.a=o},rfmT:function(t,e,r){"use strict";e.a={data:function(){return{showpassword:!0,valid:!1,login_progress:!1,loginDelay:!1,redirectUrl:!1,email:"",password:"",emailRules:[function(t){return!!t||"Email is required"},function(t){return/^\w+([.-]?\w+)*@\w+([.-]?\w+)*(\.\w{2,3})+$/.test(t)||"Email must be valid"}],passwordRules:[function(t){return!!t||"Password is required"}],validation:{error:!1,message:""},loading:!1,loader:null}},watch:{openLoginDialog:function(){this.validation.error=!1,this.$refs.login_form.reset()}},computed:{openLoginDialog:function(){return this.$store.getters.getLoginDialog}},methods:{onSubmit:function(){var t=this;if(this.$refs.login_form.validate()){this.redirectUrl=!!this.$route.query.redirect&&this.$route.query.redirect,this.login_progress=!0,this.loading=!0;var e=new FormData;e.append("email",this.email),e.append("password",this.password),this.redirectUrl&&e.append("redirect",this.redirectUrl),this.$axios.setHeader("X-Requested-With","XMLHttpRequest"),this.$axios.$post("/login",e).then(function(e){t.login_progress=!0,t.loading=!1;var r=e;if(r.error)return t.login_prosgress=!1,t.loading=!1,t.validation.error=!0,void(t.validation.message=r.error_message);t.$store.commit("setUserStatus",r),t.$store.commit("setLoginDialog",!1);var i=t.$route.query.request_url;i&&""!=i&&(i="/"+i,t.$router.push({path:i})),""!=r.redirect_url&&(t.loginDelay=!0,window.location.href=r.redirect_url)}).catch(function(t){console.log(t)})}},onForgotforgotDialog:function(){var t=this;this.$store.commit("setLoginDialog",!1),setTimeout(function(){t.$store.commit("setForgotPasswordDialog",!0)},500)}}}},uWUG:function(t,e,r){"use strict";var i=function(){var t=this.$createElement,e=this._self._c||t;return e("v-container",{attrs:{"grid-list-lg":"","fill-height":""}},[e("v-layout",{attrs:{"justify-center":"","align-center":""}},[e("v-flex",{attrs:{shrink:""}},[e("login-form")],1)],1)],1)};i._withStripped=!0;var o={render:i,staticRenderFns:[]};e.a=o}});