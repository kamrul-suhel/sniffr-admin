webpackJsonp([17],{ZdUs:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",{attrs:{"fill-height":""}},[n("v-layout",{attrs:{"justify-center":"","align-center":""}},[n("v-flex",{attrs:{shrink:""}},[n("v-card",{attrs:{color:"light",width:"450"}},[n("v-card-text",{staticClass:"text-xs-center"},[n("div",{staticClass:"headline text-uppercase text-xs-center"},[t._v("Unsubscribe")]),t.contactFound?n("div",[n("p",[t._v("Please review your email adddress below and click 'unsubscribe' to delete your details from our platform. "),n("strong",[t._v("Warning:")]),t._v(" This action cannot be undone and will be permanent.")]),n("p",{staticClass:"red--text"},[t._v(t._s(t.display_email))]),n("v-btn",{attrs:{dark:"",loading:t.loading,disabled:t.loading},on:{click:function(e){t.onUnsubscribe()}}},[t._v("Unsubscribe")])],1):t._e(),t.contactDeleted?n("div",[n("p",{staticClass:"red--text"},[t._v("Your details have been deleted from our platform.")])]):t._e(),t.contactNotFound?n("div",[n("p",[t._v("Sorry, we cannot find the email associated with your account. Please contact "),n("u",[t._v("licensing@unilad.co.uk")])])]):t._e()])],1)],1)],1)],1)};a._withStripped=!0;var i={render:a,staticRenderFns:[]};e.a=i},o6U8:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n("v4/z"),i=n("ZdUs"),s=n("VU/8")(a.a,i.a,!1,null,null,null);s.options.__file="resources/nuxt/pages/unsubscribe/_email/index.vue",e.default=s.exports},"v4/z":function(t,e,n){"use strict";e.a={data:function(){return{email:"",display_email:"",contactNotFound:!1,contactDeleted:!1,contactFound:!1,loading:!1,loader:null}},created:function(){var t=this;if(this.email=this.$route.params.email,this.email){var e="/unsubscribe/"+this.email;this.$axios.setHeader("X-Requested-With","XMLHttpRequest"),this.$axios.$get(e).then(function(e){e.error&&(t.contactNotFound=!0),e.success&&(t.contactFound=!0,t.display_email=e.data.contact.email)})}},methods:{onUnsubscribe:function(){var t=this,e=new FormData;e.append("key",this.email),this.$axios.$post("/unsubscribe",e).then(function(e){t.loading=!0,setTimeout(function(){t.loading=!1,e.success&&(t.contactNotFound=!1,t.contactDeleted=!0,t.contactFound=!1)},1e3)}).catch(function(t){})}}}}});