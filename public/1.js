webpackJsonp([1],{"+hFL":function(t,e,r){var s=r("VU/8")(r("2aUv"),r("hF0v"),!1,null,null,null);t.exports=s.exports},"2aUv":function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{progressMessage:"Loading...",showpassword:!0,valid:!1,login_progress:!1,loginDelay:!1,redirectUrl:!1,user:{email:"",password:""},emailRules:[function(t){return!!t||"Email is required"},function(t){return/^\w+([.-]?\w+)*@\w+([.-]?\w+)*(\.\w{2,3})+$/.test(t)||"Email must be valid"}],passwordRules:[function(t){return!!t||"Password is required"}],validation:{error:!1,message:""},loading:!1,loader:null}},created:function(){var t=this.$route.query.username,e=this.$route.query.password,r=this.$route.query.access_token;r&&this.authenticateUserWithAccessToken(r),t&&e&&(this.progressMessage="Login please wait...",this.user.email=t,this.user.password=e,this.loginDelay=!0,this.authenticateUserWithEmailPassword())},watch:{openLoginDialog:function(){this.validation.error=!1,this.$refs.login_form.reset()}},computed:{openLoginDialog:function(){return this.$store.getters.getLoginDialog}},methods:{onSubmit:function(){this.$refs.login_form.validate()&&this.authenticateUserWithEmailPassword()},onForgotforgotDialog:function(){var t=this;this.$store.commit("setLoginDialog",!1),setTimeout(function(){t.$store.commit("setForgotPasswordDialog",!0)},500)},authenticateUserWithEmailPassword:function(){var t=this;this.redirectUrl=!!this.$route.query.redirect&&this.$route.query.redirect,this.login_progress=!0,this.loading=!0;var e=new FormData;e.append("email",this.user.email),e.append("password",this.user.password),this.redirectUrl&&e.append("redirect",this.redirectUrl),axios.post("/login",e).then(function(e){t.login_progress=!0,t.loading=!1;var r=e.data;if(r.error)return t.login_prosgress=!1,t.loading=!1,t.validation.error=!0,void(t.validation.message=r.error_message);t.$store.commit("setUserStatus",r),t.$store.commit("setLoginDialog",!1);var s=t.$route.query.request_url;if(s&&""!=s)return s="/"+s,void t.$router.push({path:s});""!=r.redirect_url&&(t.progressMessage="Loading...",t.loginDelay=!0,window.location.href=r.redirect_url)}).catch(function(t){console.log(t)})},authenticateUserWithAccessToken:function(t){var e="Bearer "+t;axios.defaults.headers.common.Authorization=e}}}},"GaY+":function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=r("+hFL"),o=r.n(s);e.default={components:{loginForm:o.a},data:function(){return{}},watch:{},created:function(){},methods:{}}},RIMe:function(t,e){t.exports={render:function(){var t=this.$createElement,e=this._self._c||t;return e("v-container",{attrs:{"grid-list-lg":"","fill-height":""}},[e("v-layout",{attrs:{"justify-center":"","align-center":""}},[e("v-flex",{attrs:{shrink:""}},[e("login-form")],1)],1)],1)},staticRenderFns:[]}},hF0v:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"login"},[r("v-card",{attrs:{raised:""}},[r("v-card-text",{staticClass:"login-section pa-0"},[r("v-form",{ref:"login_form",attrs:{method:"post"},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[r("v-container",{attrs:{"grid-list-lg":""}},[r("v-layout",{attrs:{row:"",wrap:"",id:"login-section"}},[r("v-flex",{attrs:{xs12:""}},[r("h2",{staticClass:"login-title"},[t._v("LOGIN")])]),t._v(" "),r("v-flex",{attrs:{xs12:""}},[r("v-text-field",{attrs:{name:"email",color:"dark",label:"Email:",rules:t.emailRules,required:"","validate-on-blur":"",error:t.validation.error},model:{value:t.user.email,callback:function(e){t.$set(t.user,"email",e)},expression:"user.email"}})],1),t._v(" "),r("v-flex",{attrs:{xs12:""}},[r("v-text-field",{staticClass:"email",attrs:{color:"dark",name:"password",label:"Enter your password","append-icon":t.showpassword?"visibility":"visibility_off",type:t.showpassword?"password":"text",rules:t.passwordRules,error:t.validation.error,required:""},on:{"click:append":function(e){t.showpassword=!t.showpassword},keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;t.onSubmit()}},model:{value:t.user.password,callback:function(e){t.$set(t.user,"password",e)},expression:"user.password"}})],1)],1),t._v(" "),t.validation.error?r("v-layout",{attrs:{row:"","justify-center":""}},[r("v-flex",[r("div",{staticClass:"red--text text-xs-center"},[t._v(t._s(t.validation.message))])])],1):t._e(),t._v(" "),r("v-layout",{staticClass:"text-xs-center",attrs:{row:"",wrap:"",fluid:""}},[r("v-flex",{attrs:{xs12:""}},[r("input",{attrs:{type:"hidden",name:"_token"}}),t._v(" "),r("v-btn",{attrs:{raised:"",dark:"",loading:t.loading,disabled:t.loading},on:{click:function(e){t.onSubmit()}}},[t._v("\n                                LOGIN\n                            ")])],1),t._v(" "),r("v-flex",{attrs:{xs12:"","pt-0":""}},[r("a",{staticClass:"forgot-password",attrs:{id:"btn-forgot-password"},on:{click:function(e){e.stopPropagation(),t.onForgotforgotDialog()}}},[t._v("Forgot password")])])],1)],1)],1)],1)],1),t._v(" "),r("v-dialog",{staticStyle:{background:"none","box-shadow":"none"},attrs:{"max-width":"200",persistent:"",flat:"","content-class":"login-delay-dialog"},model:{value:t.loginDelay,callback:function(e){t.loginDelay=e},expression:"loginDelay"}},[r("div",{staticClass:"loading-delay-box text-xs-center"},[r("v-progress-circular",{attrs:{size:50,width:5,color:"white",indeterminate:""}}),t._v(" "),r("p",{staticClass:"white--text"},[t._v(t._s(t.progressMessage))])],1)])],1)},staticRenderFns:[]}},"nKY+":function(t,e,r){var s=r("VU/8")(r("GaY+"),r("RIMe"),!1,null,null,null);t.exports=s.exports}});
//# sourceMappingURL=1.js.map