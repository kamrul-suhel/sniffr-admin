<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Video background example</title>

    <meta name="description" content="Video background">
    <meta name="keywords" content="video background responsive jQuery plugin youtube">

    <link rel="stylesheet" href="style.css">
</head>

<body>


<section class="section-intro youtube-video-background">

    <div class="youtube-video" data-yt-id="yltlJEdSAHw"></div>

    <div class="container">
        <div class="content-wrap">
            <h3 class="title">
                Lorem ipsum dolor
            </h3>
        </div>
    </div>
</section>


<section class="section-features">

    <div class="container">

        <ul class="features-list">

            <li class="feature-item">
                <div class="content-col">
                    <div class="title">
                        Lorem ipsum
                    </div>
                    <div class="desc">
                        <p>
                            Sed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium doloremque
                            laudantium, totam rem aperiam, eaque ipsa quae ab illo inventore veritatis et quasi
                            architecto
                            beatae vitae dicta sunt explicabo.
                        </p>
                        <p>
                            Nemo enim ipsam voluptatem quia voluptas sit aspernatur aut
                            odit aut fugit, sed quia consequuntur magni dolores eos qui ratione voluptatem sequi
                            nesciunt.
                        </p>
                    </div>
                </div>
                <div class="img-col">
                    <div class="img-wrap youtube-video-background">
                        <div class="youtube-video" data-yt-id="6NDYf3RZ1eY"></div>
                    </div>
                </div>
            </li>

            <li class="feature-item">
                <div class="content-col">
                    <div class="title">
                        Lorem ipsum
                    </div>
                    <div class="desc">
                        <p>
                            Sed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium doloremque
                            laudantium, totam rem aperiam, eaque ipsa quae ab illo inventore veritatis et quasi
                            architecto
                            beatae vitae dicta sunt explicabo.
                        </p>
                        <p>
                            Nemo enim ipsam voluptatem quia voluptas sit aspernatur aut
                            odit aut fugit, sed quia consequuntur magni dolores eos qui ratione voluptatem sequi
                            nesciunt.
                        </p>
                    </div>
                </div>
                <div class="img-col">
                    <div class="img-wrap youtube-video-background">
                        <div class="youtube-video" data-yt-id="57jEMZ87ND8"></div>
                    </div>
                </div>
            </li>

            <li class="feature-item">
                <div class="content-col">
                    <div class="title">
                        Lorem ipsum
                    </div>
                    <div class="desc">
                        <p>
                            Sed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium doloremque
                            laudantium, totam rem aperiam, eaque ipsa quae ab illo inventore veritatis et quasi
                            architecto
                            beatae vitae dicta sunt explicabo.
                        </p>
                        <p>
                            Nemo enim ipsam voluptatem quia voluptas sit aspernatur aut
                            odit aut fugit, sed quia consequuntur magni dolores eos qui ratione voluptatem sequi
                            nesciunt.
                        </p>
                    </div>
                </div>
                <div class="img-col">
                    <div class="img-wrap html-video-background">
                        <video src="video/SampleVideo_color.mp4" autoplay muted>
                        </video>
                    </div>
                </div>
            </li>

        </ul>
    </div>

</section>


<script src="js/jquery-3.2.0.min.js"></script>

<script src="../build/videoBackground.js"></script>

<script>

    //loop fix
    document.getElementsByTagName('video')[0].onended = function () {
        this.load();
        this.play();
    };


    //init videoBackground for html video
    $('.html-video-background').videoBackground();



    //init youtube
    var tag = document.createElement('script');

    tag.src = "https://www.youtube.com/iframe_api";
    var firstScriptTag = document.getElementsByTagName('script')[0];
    firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);

    var ytPlayers = [];

    onYouTubePlayerAPIReady = function () {

        var players = document.querySelectorAll('.youtube-video');


        for (var i = 0; i < players.length; i++) {
            var player = new YT.Player(players[i], {
                playerVars: {
                    'autoplay': 1,
                    'loop': 1,
                    'rel': 0,
                    'showinfo': 0,
                    'controls': 0,
                    'modestbranding': 1,
                    'playlist': players[i].getAttribute("data-yt-id")

                },
                videoId: players[i].getAttribute("data-yt-id"),
                events: {
                    'onReady': onPlayerReady
                }

            });

            ytPlayers.push(player);
        }
    };

    function onPlayerReady(event) {

        event.target.mute();


        //init videoBackground for youtube video
        $('.youtube-video-background').videoBackground();

    }


</script>




</body>
</html>